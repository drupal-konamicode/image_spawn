(function($){$.fn.imageSpawn=function(options){let defaults={images:'/libraries/image_spawn/assets/images/druplicon-small.png',amount:500,delay:10,};options=$.extend(defaults,options);let images_array=options.images.split(/\n/);let screen_size_array=[];images_array.forEach(function(image){let image_object=new Image();image_object.onload=function(){screen_size_array.push({'image':image,'width':$(document).width()-this.width,'height':$(document).height()-this.height,})};image_object.src=image});setTimeout(function(){for(let counter=0;counter<defaults.amount;counter++){let image=images_array[Math.floor(Math.random()*images_array.length)];let image_size=$.grep(screen_size_array,function(screen_size_object){return screen_size_object.image===image});let x_pos,y_pos;if(image_size.length===1){x_pos=Math.floor(Math.random()*image_size[0].width);y_pos=Math.floor(Math.random()*image_size[0].height)}
else{x_pos=Math.floor(Math.random()*$(document).width()-175);y_pos=Math.floor(Math.random()*$(document).height()-200)}
setTimeout(function(){$('body').append('<img src="'+image+'" style="position: absolute; z-index: 666; left: '+x_pos+'px; top: '+y_pos+'px;"/>')},counter*defaults.delay)}},500)}})(jQuery)
